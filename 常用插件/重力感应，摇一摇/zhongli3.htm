<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <meta charset="UTF-8">
    <title>摇一摇功能</title>
</head>
<script>

</script>
</html>

<!doctype html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>手机摇一摇测试</title>
</head>
<body>    
	<script> 
		window.onload = function(){
			if(window.DeviceOrientationEvent){
				window.addEventListener('deviceorientation',DeviceOrientationHandler,false);
			}else{
				alert("您的浏览器不支持DeviceOrientation");
			}
		}   
		
		function DeviceOrientationHandler(event){
			var alpha = event.alpha,
				beta = event.beta,
				gamma = event.gamma;
				
			if(alpha != null || beta != null || gamma != null){
				dataContainerOrientation.innerHTML = "alpha:" + alpha + "<br />beta:" + beta + "<br />gamma:" + gamma;
				//判断屏幕方向
				var html = "";
				if( Math.abs(gamma) < GAMMA_MIN && Math.abs(beta) > BETA_MAX ){
					html = "屏幕方向：Portrait";
					alert(1)
				}
	
				if( Math.abs(beta) < BETA_MIN && Math.abs(gamma) > GAMMA_MAX ){
					html = "屏幕方向：Landscape";
					alert(2)
				}
	
				var gamma_html = "";
				if( gamma > 0 ){
					gamma_html = "向右倾斜";
					alert(3)
				}else{
					gamma_html = "向左倾斜";
					alert(4)
				}
				html += "<br />"+gamma_html
				stage.innerHTML = html;
			}else{
				dataContainerOrientation.innerHTML = "当前浏览器不支持DeviceOrientation";
			}
		}  
    </script>    
    <div id="result"></div>
</body>
</html>

